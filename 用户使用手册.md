# Blog_mini 博客系统 - 用户使用手册

## 1. 系统简介

Blog_mini是一个基于Flask框架开发的开源博客系统，具有简洁的界面和强大的后台管理功能。本系统适合个人博客爱好者、技术博主以及Python Web初学者学习和使用。

## 2. 安装与配置

### 2.1 环境要求

- Python 3.6+
- pip包管理工具
- SQLite或MySQL数据库

### 2.2 安装步骤

#### 2.2.1 克隆代码

```bash
git clone https://github.com/xpleaf/Blog_mini.git
cd Blog_mini
```

#### 2.2.2 安装依赖

```bash
# 安装核心依赖
pip install -r requirements/common.txt

# 安装开发依赖（可选）
pip install -r requirements/dev.txt

# 安装生产依赖（可选）
pip install -r requirements/product.txt
```

#### 2.2.3 配置文件

配置文件位于`config.py`，主要配置项包括：

- `SECRET_KEY`：安全密钥，用于加密会话数据
- `SQLALCHEMY_DATABASE_URI`：数据库连接URL
- `ARTICLES_PER_PAGE`：每页显示文章数
- `COMMENTS_PER_PAGE`：每页显示评论数

#### 2.2.4 初始化数据库

```bash
# 创建数据库表
python manage.py db init
python manage.py db migrate -m "初始化数据库"
python manage.py db upgrade

# 添加初始数据
python manage.py deploy(product)
```

## 3. 系统启动

### 3.1 开发环境启动

```bash
# 使用manage.py启动
python manage.py runserver

# 或使用run.py启动（端口5001）
python run.py
```

### 3.2 生产环境启动

```bash
# 使用gunicorn启动
gunicorn -w 4 -b 0.0.0.0:5000 manage:app

# 或使用uWSGI启动
uwsgi --http :5000 --wsgi-file manage.py --callable app
```

### 3.3 访问地址

- 前端首页：http://127.0.0.1:5001
- 后台管理：http://127.0.0.1:5001/admin/
- 登录页面：http://127.0.0.1:5001/auth/login

## 4. 后台管理

### 4.1 登录

1. 访问登录页面：http://127.0.0.1:5001/auth/login
2. 输入默认管理员账号：
   - 邮箱：blog_mini@163.com
   - 密码：blog_mini
3. 点击"登录"按钮

### 4.2 文章管理

#### 4.2.1 发布文章

1. 登录后台管理
2. 点击左侧菜单栏的"发表博文"
3. 填写文章标题、内容、来源、分类和摘要
4. 点击"提交"按钮

#### 4.2.2 编辑文章

1. 登录后台管理
2. 点击左侧菜单栏的"管理博文"
3. 在文章列表中找到要编辑的文章
4. 点击文章标题右侧的"编辑"按钮
5. 修改文章内容
6. 点击"提交"按钮

#### 4.2.3 删除文章

1. 登录后台管理
2. 点击左侧菜单栏的"管理博文"
3. 在文章列表中找到要删除的文章
4. 点击文章标题右侧的"删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

#### 4.2.4 批量删除文章

1. 登录后台管理
2. 点击左侧菜单栏的"管理博文"
3. 勾选要删除的文章前面的复选框
4. 点击页面顶部的"批量删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

### 4.3 评论管理

#### 4.3.1 查看评论

1. 登录后台管理
2. 点击左侧菜单栏的"管理评论"
3. 在评论列表中查看所有评论

#### 4.3.2 审核评论

1. 登录后台管理
2. 点击左侧菜单栏的"管理评论"
3. 在评论列表中找到要审核的评论
4. 点击评论右侧的"启用"或"禁用"按钮

#### 4.3.3 删除评论

1. 登录后台管理
2. 点击左侧菜单栏的"管理评论"
3. 在评论列表中找到要删除的评论
4. 点击评论右侧的"删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

### 4.4 分类管理

#### 4.4.1 添加分类

1. 登录后台管理
2. 点击左侧菜单栏的"管理分类"
3. 点击"添加分类"按钮
4. 填写分类名称、介绍和属性
5. 选择所属导航
6. 点击"提交"按钮

#### 4.4.2 编辑分类

1. 登录后台管理
2. 点击左侧菜单栏的"管理分类"
3. 在分类列表中找到要编辑的分类
4. 点击分类名称右侧的"编辑"按钮
5. 修改分类信息
6. 点击"提交"按钮

#### 4.4.3 删除分类

1. 登录后台管理
2. 点击左侧菜单栏的"管理分类"
3. 在分类列表中找到要删除的分类
4. 点击分类名称右侧的"删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

### 4.5 导航管理

#### 4.5.1 添加导航

1. 登录后台管理
2. 点击左侧菜单栏的"管理导航"
3. 点击"添加导航"按钮
4. 填写导航名称
5. 点击"提交"按钮

#### 4.5.2 编辑导航

1. 登录后台管理
2. 点击左侧菜单栏的"管理导航"
3. 在导航列表中找到要编辑的导航
4. 点击导航名称右侧的"编辑"按钮
5. 修改导航名称
6. 点击"提交"按钮

#### 4.5.3 删除导航

1. 登录后台管理
2. 点击左侧菜单栏的"管理导航"
3. 在导航列表中找到要删除的导航
4. 点击导航名称右侧的"删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

#### 4.5.4 排序导航

1. 登录后台管理
2. 点击左侧菜单栏的"管理导航"
3. 在导航列表中找到要排序的导航
4. 点击导航名称右侧的"上移"或"下移"按钮

### 4.6 博客配置

1. 登录后台管理
2. 点击左侧菜单栏的"博客信息"
3. 修改博客标题、签名和导航样式
4. 点击"提交"按钮

### 4.7 插件管理

#### 4.7.1 添加插件

1. 登录后台管理
2. 点击左侧菜单栏的"插件管理"
3. 点击"添加插件"按钮
4. 填写插件标题、说明和HTML内容
5. 点击"提交"按钮

#### 4.7.2 编辑插件

1. 登录后台管理
2. 点击左侧菜单栏的"插件管理"
3. 在插件列表中找到要编辑的插件
4. 点击插件标题右侧的"编辑"按钮
5. 修改插件信息
6. 点击"提交"按钮

#### 4.7.3 删除插件

1. 登录后台管理
2. 点击左侧菜单栏的"插件管理"
3. 在插件列表中找到要删除的插件
4. 点击插件标题右侧的"删除"按钮
5. 在弹出的确认对话框中点击"确定"按钮

#### 4.7.4 启用/禁用插件

1. 登录后台管理
2. 点击左侧菜单栏的"插件管理"
3. 在插件列表中找到要操作的插件
4. 点击插件标题右侧的"启用"或"禁用"按钮

#### 4.7.5 排序插件

1. 登录后台管理
2. 点击左侧菜单栏的"插件管理"
3. 在插件列表中找到要排序的插件
4. 点击插件标题右侧的"上移"或"下移"按钮

### 4.8 用户管理

#### 4.8.1 修改密码

1. 登录后台管理
2. 点击左侧菜单栏的"账号管理"
3. 点击"修改密码"按钮
4. 填写原密码、新密码和确认密码
5. 点击"提交"按钮

#### 4.8.2 编辑用户信息

1. 登录后台管理
2. 点击左侧菜单栏的"账号管理"
3. 点击"编辑用户信息"按钮
4. 修改用户名和邮箱
5. 点击"提交"按钮

## 5. 前端使用

### 5.1 浏览文章

1. 访问博客首页：http://127.0.0.1:5001
2. 在首页浏览最新文章
3. 点击文章标题查看文章详情
4. 点击分类或来源链接查看相关文章

### 5.2 发表评论

1. 进入文章详情页
2. 在评论区填写昵称、邮箱和评论内容
3. 点击"提交评论"按钮

### 5.3 回复评论

1. 进入文章详情页
2. 在要回复的评论下方点击"回复"按钮
3. 填写昵称、邮箱和回复内容
4. 点击"提交评论"按钮

### 5.4 查看博客统计

1. 访问博客首页
2. 在右侧边栏查看博客统计信息，包括：
   - 博客总访问量
   - 博文总数和评论总数
   - 各来源文章数量

## 6. 常见问题与解决方案

### 6.1 登录失败

- 检查用户名和密码是否正确
- 确保已正确执行数据库初始化和初始数据添加
- 检查浏览器是否禁用了Cookie

### 6.2 文章发布失败

- 检查文章标题是否已存在
- 确保所有必填字段都已填写
- 检查富文本编辑器是否正常加载

### 6.3 评论提交失败

- 检查昵称、邮箱和评论内容是否符合要求
- 确保已启用JavaScript
- 检查网络连接是否正常

### 6.4 图片上传失败

- 检查图片大小是否超过限制
- 确保上传目录有写入权限
- 检查服务器配置是否允许文件上传

### 6.5 系统运行缓慢

- 优化数据库查询
- 压缩静态资源
- 使用缓存机制
- 升级服务器硬件配置

## 7. 技术支持

- **官方网站**：http://xpleaf.blog.51cto.com
- **GitHub仓库**：https://github.com/xpleaf/Blog_mini
- **社区论坛**：欢迎在GitHub Issues中提交问题和建议

## 8. 版本更新

| 版本 | 更新内容 | 发布日期 |
|------|----------|----------|
| 1.0.0 | 初始版本 | 2016-05-10 |
| 1.1.0 | 优化界面，添加插件系统 | 2016-08-15 |
| 1.2.0 | 支持博客统计，优化评论系统 | 2017-01-20 |
| 2.0.0 | 升级Flask到3.0.0，适配Python 3 | 2023-12-22 |

## 9. 致谢

感谢所有为Blog_mini项目做出贡献的开发者和用户！

## 10. 许可证

本项目采用MIT许可证，详见LICENSE文件。
